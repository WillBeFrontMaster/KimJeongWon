# 2022-06-12

## 브라우저

### 개요 및 특징

웹 브라우저는 가장 널리 사용되는 소프트웨어중 하나입니다.

`Webkit`이나  `Gecko`와 같은 렌더링 엔진을 사용합니다.

> Chrome, Internet Explorer, Fierfox, Safari, Opera 등이 있다.
> 
> `Opera`를 제외한 모든 브라우저는  `Webkit`  렌더링 엔진을 사용하고 있다.


### 브라우저의 주요 기능

브라우저의 주요 기능은 서버에서 요청하고 브라우저 창에 표시하여 선택한 웹 리소스를 제공하는 것입니다. 리소스는 일반적으로 HTML 문서이지만 PDF, 이미지 또는 다른 유형의 콘텐츠일 수도 있습니다. 리소스의 위치는 URI(Uniform Resource Identifier)를 사용하여 사용자가 지정합니다.

브라우저가 HTML 파일을 해석하고 표시하는 방식은 HTML 및 CSS 사양에 지정되어 있습니다. 이러한 사양은 웹 표준 조직인 W3C (World Wide Web Consortium) 조직에서 유지 관리합니다. 수년 동안 브라우저는 사양의 일부만 준수하고 자체 확장을 개발했습니다. 이는 웹 작성자에게 심각한 호환성 문제를 일으켰습니다. 오늘날 대부분의 브라우저는 사양을 어느 정도 준수합니다.

브라우저 사용자 인터페이스는 서로 공통점이 많습니다. 일반적인 사용자 인터페이스 요소는 다음과 같습니다.

-   URI 삽입을 위한 주소 표시줄
-   뒤로 및 앞으로 버튼
-   북마크 옵션
-   현재 문서를 새로 고치거나 로드를 중지하기 위한 새로 고침 및 중지 버튼
-   홈 페이지로 이동하는 홈 버튼

이상하게도 브라우저의 사용자 인터페이스는 공식 사양에 지정되어 있지 않으며, 수년간의 경험과 브라우저가 서로를 모방하여 형성한 모범 사례에서 비롯된 것입니다. HTML5 사양은 브라우저에 있어야 하는 UI 요소를 정의하지 않지만 몇 가지 공통 요소를 나열합니다. 그 중에는 주소 표시줄, 상태 표시줄 및 도구 모음이 있습니다. 물론 Firefox의 다운로드 관리자와 같은 특정 브라우저에 고유한 기능이 있습니다.

### 기본구조

[![브라우저 동작](https://camo.githubusercontent.com/3e6beb0623651b2bf628fc8f10f94c9666b20b33f9410a75ce480f85b1f6aa25/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d6874747073253341253246253246626c6f672e6b616b616f63646e2e6e6574253246646e2532463057625430253246627472776e716e6d30345a2532466f37546b754e6f3457557242326568436e4b3665416b253246696d672e706e67)](https://camo.githubusercontent.com/3e6beb0623651b2bf628fc8f10f94c9666b20b33f9410a75ce480f85b1f6aa25/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d6874747073253341253246253246626c6f672e6b616b616f63646e2e6e6574253246646e2532463057625430253246627472776e716e6d30345a2532466f37546b754e6f3457557242326568436e4b3665416b253246696d672e706e67)

  

1.  **사용자 인터페이스** : 여기에는 주소 표시줄, 뒤로/앞으로 가기 버튼, 북마크 메뉴 등이 포함됩니다. 요청한 페이지가 표시되는 창을 제외한 브라우저의 모든 부분이 표시됩니다.
2.  **브라우저 엔진** : UI와 렌더링 엔진 간의 작업을 마샬링합니다.
3.  **렌더링 엔진** : 요청된 콘텐츠 표시를 담당합니다. 예를 들어 요청된 콘텐츠가 HTML인 경우 렌더링 엔진은 HTML 및 CSS를 구문 분석하고 구문 분석된 콘텐츠를 화면에 표시합니다.
4.  **네트워킹** : HTTP 요청과 같은 네트워크 호출의 경우 플랫폼 독립적인 인터페이스 뒤에서 다른 플랫폼에 대해 다른 구현을 사용합니다.
5.  **UI 백엔드** : 콤보 상자 및 창과 같은 기본 위젯을 그리는 데 사용됩니다. 이 백엔드는 플랫폼에 고유하지 않은 일반 인터페이스를 노출합니다. 그 아래에서 운영 체제 사용자 인터페이스 방법을 사용합니다.
6.  **자바스크립트 인터프리터** . JavaScript 코드를 구문 분석하고 실행하는 데 사용됩니다.
7.  **데이터 저장** . 이것은 지속성 레이어입니다. 브라우저는 쿠키와 같은 모든 종류의 데이터를 로컬에 저장해야 할 수도 있습니다. 브라우저는 또한 localStorage, IndexedDB, WebSQL 및 FileSystem과 같은 저장소 메커니즘을 지원합니다.

> 브라우저는 각 탭마다 별도의 렌더링 엔진 인스턴스를 유지하며
> 
> 각 탭은 독립된 프로세스로 처리된다.

### 렌더링 엔진의 동작과정

[![Webkit 동작](https://camo.githubusercontent.com/6c9d70323badceda391544ac0a92a6c19b5af398618d9ce25fc806da4cf4c19e/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d6874747073253341253246253246626c6f672e6b616b616f63646e2e6e6574253246646e2532463249463139253246627472776f6e7162714c5325324647424c39663179464a5166445733777741344530376b253246696d672e706e67)](https://camo.githubusercontent.com/6c9d70323badceda391544ac0a92a6c19b5af398618d9ce25fc806da4cf4c19e/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d6874747073253341253246253246626c6f672e6b616b616f63646e2e6e6574253246646e2532463249463139253246627472776f6e7162714c5325324647424c39663179464a5166445733777741344530376b253246696d672e706e67)

`WebKit`  기본 흐름

렌더링 엔진은 가능한 한 빨리 화면에 내용을 표시하려고 하기때문에

모든 HTML이 분석이 될때까지 기다리지 않고

일부 콘텐츠가 분석되고 표시되는 동안 네트워크를 통해 전달받은 나머지 콘텐츠로 작업이 계속합니다.


### DOM

`DOM`(Document Object Model)의 줄임말로,

`HTML`  문서를 객체로 표현한 것으로 최상의 객체로는 문서(`Document`)입니다.

`DOM`은 마크업과 1:1 관계를 맺는다.

    <html>
	    <body>
		    <p>Hello World</p>
		    <div><img src="example.png" /></div>
	    </body>
    </html>  

이것은 아래의  `DOM`  트리로 변환할 수 있습니다.

[![dom tree](https://camo.githubusercontent.com/faa26c215b1a09d4a49baa5caaebc7fec43dac3823e6840230cba5b74fc98c9f/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d6874747073253341253246253246626c6f672e6b616b616f63646e2e6e6574253246646e2532467563413756253246627472776e716e6d303644253246734273726f6e793378556a716e477459643762467731253246696d672e706e67)](https://camo.githubusercontent.com/faa26c215b1a09d4a49baa5caaebc7fec43dac3823e6840230cba5b74fc98c9f/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d6874747073253341253246253246626c6f672e6b616b616f63646e2e6e6574253246646e2532467563413756253246627472776e716e6d303644253246734273726f6e793378556a716e477459643762467731253246696d672e706e67)

## 브라우저의 발달 / 활용

> `PWA`,  `RTC`,  `Web Assembly`,  `Service Worker`,  `Web Push`

> `Chrome Extendsion`,  `Webview`,  `Electron`

> [WHAT WEB CAN DO TODAY](https://whatwebcando.today/)


## REFERENCE

[브라우저는 어떻게 동작하는가?](https://d2.naver.com/helloworld/59361)   
   
[How Browsers Work?](https://www.html5rocks.com/en/tutorials/internals/howbrowserswork/)
